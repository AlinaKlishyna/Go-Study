# go tool gqlgen generate - Чтобы gqlgen.yml отработал (включая autobind, models, layout, директории)
# gqlgen generate 

# Указывает gqlgen, где находятся файлы GraphQL-схемы
# gqlgen читает эти файлы и на их основе генерирует Go-код (модели, резолверы, типы)
schema:
  - graphql/schema/*.graphqls

# Определяет, куда будет сгенерирован файл с внутренним кодом исполнителя GraphQL-запросов
# gqlgen создает технический файл, который отвечает за выполнение запросов, маршрутизацию полей, обработку ошибок
# Этот файл считается «внутренним», программист его не редактирует
exec:
    filename: graphql/exec/generated.go
    package: exec

# Определяет, куда помещать автоматически сгенерированные модели (Go-структуры), если они не привязаны к пользовательским моделям
#Если тип в GraphQL не сопоставлен с пользовательской структурой, gqlgen создаёт модель сам
model:
    filename: graphql/model/generated.go
    package: model

# Определяет, где будут находиться функции-резолверы и как их именовать. Бизнес-логика именно в этих файлах
resolver:
    layout: follow-schema            #генерирует резолверы, разделяя их по типам, следуя структуре схемы
    dir: graphql/resolver            # директория, где будут размещены резолверы
    package: resolver                # имя Go-пакета резолверов
    filename_template: "{name}.go"  # шаблон имени файлов резолверов

 # Говорит gqlgen не использовать указатели в срезах
 # Если стоит true, вместо []*User будет []User
omit_slice_element_pointers: true

# Указывает gqlgen автоматически искать Go-структуры в указанном пакете и использовать их как модели GraphQL, если имена совпадают
# Чтобы не приходилось вручную прописывать соответствия моделей, если структура GraphQL-типа и Go-типа совпадают по названию
autobind:
  - "meetup-graphql/core"

# Задаёт конкретное соответствие между GraphQL-типом User и Go-структурой Utente из пакета core
models:
  User:
    model:
      meetup-graphql/core.User
  Meetup:
    model:
      meetup-graphql/core.Meetup